<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title></title>
    <style>
    #demo {
        opacity: 1;
        transition: opacity 1s;
        height: 300px;
    }

    #demo.fade {
        opacity: 0;
    }
    </style>
</head>
<body onscroll="scroll()" style="height:3000px;">

    <div id="demo" style="background:red; display:block;"></div>

    <button id="fade">Fade</button>

    <script>

    document.getElementById("fade").addEventListener("click", function() {
        var demo = document.getElementById("demo");

        if(demo.style.display === 'block'){
            demo.classList.add('fade');
            setTimeout(function(){
                demo.style.display = 'none'
            }, 1000);
        }else{
            demo.style.display = 'block';
            setTimeout(function(){
                demo.classList.remove('fade');
            }, 1);
        }
    });

    var i = 0;

    function scroll(){
        console.log("hola")
        document.getElementById("demo").style.height = i + "px";
        i=i+10;
    }

    </script>
</body>
</html>
